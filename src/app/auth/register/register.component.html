<div class="container">
    <form class="form" [formGroup]="registerForm" (ngSubmit)="register()">
        <h3 class="form-title">Register</h3>

        <div class="form-controls">
            <div class="form-control">
                <input type="text" formControlName="username" [ngClass]="hasErrors('username') ? 'error-input' : ''">
                <label>
                    <span *ngFor="let letter of 'Username'.split(''); index as i"
                        [style]="'transition-delay:'+ 50 * i + 'ms'"
                        [ngClass]="hasErrors('username') ? 'error-input' : ''">{{ letter }}</span>
                    <span class="required-star" [style]="'transition-delay:'+ 50 * 'Email'.length + 'ms'">*</span>
                </label>
                <div class="errors" *ngIf="hasErrors('username')">
                    <small *ngIf="hasError('username', 'required')">
                        This field is required
                    </small>
                    <small *ngIf="hasError('username', 'minlength')">
                        Your username must be at least 3 characters
                    </small>
                </div>
            </div>

            <div class="form-control">
                <input type="text" formControlName="email" [ngClass]="hasErrors('email') ? 'error-input' : ''">
                <label [ngClass]="hasErrors('email') ? 'error-input' : ''">
                    <span *ngFor="let letter of 'Email'.split(''); index as i"
                        [style]="'transition-delay:'+ 50 * i + 'ms'"
                        [ngClass]="hasErrors('email') ? 'error-input' : ''">{{ letter }}</span>
                    <span class="required-star" [style]="'transition-delay:'+ 50 * 'Email'.length + 'ms'">*</span>
                </label>
                <div class="errors" *ngIf="hasErrors('email')">
                    <small *ngIf="hasError('email', 'required')">
                        This field is required
                    </small>
                    <small *ngIf="hasError('email', 'email')">
                        This field requires an email
                    </small>
                </div>
            </div>

            <div class="form-control">
                <input type="password" formControlName="password"
                    [ngClass]="hasErrors('password') ? 'error-input' : ''">
                <label [ngClass]="hasErrors('password') ? 'error-input' : ''">
                    <span *ngFor="let letter of 'Password'.split(''); index as i"
                        [style]="'transition-delay:'+ 50 * i + 'ms'"
                        [ngClass]="hasErrors('password') ? 'error-input' : ''">{{ letter }}</span>
                    <span class="required-star" [style]="'transition-delay:'+ 50 * 'Email'.length + 'ms'">*</span>
                </label>
                <div class="errors" *ngIf="hasErrors('password')">
                    <small *ngIf="hasError('password', 'required')">
                        This field is required
                    </small>
                    <small *ngIf="hasError('password', 'minlength')">
                        Your password must be at least 6 characters
                    </small>
                </div>
            </div>

            <div class="form-control">
                <input type="password" formControlName="passwordConf"
                    [ngClass]="hasErrors('passwordConf') ? 'error-input' : ''">
                <label [ngClass]="hasErrors('passwordConf') ? 'error-input' : ''">
                    <span *ngFor="let letter of 'Confirmation'.split(''); index as i"
                        [style]="'transition-delay:'+ 50 * i + 'ms'"
                        [ngClass]="hasErrors('passwordConf') ? 'error-input' : ''">{{ letter }}</span>
                    <span class="required-star" [style]="'transition-delay:'+ 50 * 'Email'.length + 'ms'">*</span>
                </label>
                <div class="errors" *ngIf="hasErrors('passwordConf')">
                    <small *ngIf="hasError('passwordConf', 'required')">
                        This field is required
                    </small>
                </div>
            </div>
        </div>

        <div class="errors" *ngIf="registerForm.errors">
            <small *ngIf="registerForm.errors?.['passwordsDontMatch']">
                Passwords don't match
            </small>
        </div>

        <a routerLink="../login">Already have an account ? Login here !</a>

        <input type="submit" value="Register" class="form-submit">
    </form>
</div>