<div class="container">
    <form class="form" [formGroup]="registerForm" (ngSubmit)="register()">
        <h1 class="form-title">Register</h1>

        <div class="form-div">
            <label class="form-label" [ngClass]="hasErrors('email') ? 'error-input' : ''">
                Username <span class="required-star">*</span>
            </label>
            <input class="form-input" formControlName="username" [ngClass]="hasErrors('username') ? 'error-input' : ''" />
            <div class="errors" *ngIf="hasErrors('username')">
                <small *ngIf="hasError('username', 'required')">
                    This field is required
                </small>
                <small *ngIf="hasError('username', 'minlength')">
                    Your username must be at least 3 characters
                </small>
            </div>
        </div>

        <div class="form-div">
            <label class="form-label" [ngClass]="hasErrors('email') ? 'error-input' : ''">
                Email <span class="required-star">*</span>
            </label>
            <input class="form-input" formControlName="email" [ngClass]="hasErrors('email') ? 'error-input' : ''" />
            <div class="errors" *ngIf="hasErrors('email')">
                <small *ngIf="hasError('email', 'required')">
                    This field is required
                </small>
                <small *ngIf="hasError('email', 'email')">
                    This field requires an email
                </small>
            </div>
        </div>

        <div class="form-div">
            <label class="form-label" [ngClass]="hasErrors('password') ? 'error-input' : ''">
                Password <span class="required-star">*</span>
            </label>
            <input class="form-input" formControlName="password" [ngClass]="hasErrors('password') ? 'error-input' : ''" type="password" />
            <div class="errors" *ngIf="hasErrors('password')">
                <small *ngIf="hasError('password', 'required')">
                    This field is required
                </small>
                <small *ngIf="hasError('password', 'minlength')">
                    Your password must be at least 6 characters
                </small>
            </div>
        </div>

        <div class="form-div">
            <label class="form-label" [ngClass]="hasErrors('passwordConf') ? 'error-input' : ''">Confirm password</label>
            <input class="form-input" formControlName="passwordConf" [ngClass]="hasErrors('passwordConf') ? 'error-input' : ''" type="password" />
            <div class="errors" *ngIf="hasErrors('passwordConf')">
                <small *ngIf="hasError('passwordConf', 'required')">
                    This field is required
                </small>
            </div>
        </div>

        <div class="errors" *ngIf="registerForm.errors">
            <small *ngIf="registerForm.errors?.['passwordsDontMatch']">
                Passwords don't match
            </small>
        </div>

        <a routerLink="../login">Already have an account ? Login here !</a>

        <input type="submit" value="Register" class="form-submit">
    </form>
</div>